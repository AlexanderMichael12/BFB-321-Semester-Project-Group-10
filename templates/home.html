<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Home Dashboard</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
  <link rel="stylesheet" href="{{ url_for('static', filename='main.css') }}">
</head>
<body>
  <main class="dashboard">
    <section class="card dropdown">
      <details>
        <summary>Company Information</summary>
        <ul class="checklist">
          <li>
            <a href="{{ url_for('view_vehicle') }}">
              <i class="bi bi-truck"></i>
              <span>Vehicle Specific Dashboard</span>
            </a>
          </li>
          <li>
            <a href="{{ url_for('view_drivers') }}">
              <i class="bi bi-person-lines-fill"></i>
              <span>Driver Contact Details</span>
            </a>
          </li>
          <li>
            <a href="{{ url_for('view_history') }}">
              <i class="bi bi-clock-history"></i>
              <span>History</span>
            </a>
          </li>
        </ul>
      </details>
    </section>
    <section class="grid-two">
      <div class="card highlight">
        <h3><i class="bi bi-bar-chart"></i> Overall Vehicle Capacity Utilization</h3>
        <div class="pie-chart">
          <div class="pie-label">{{ utilization }}%</div>
        </div>
      </div>
      <div class="card">
        <h3><i class="bi bi-truck"></i> Live Logistics Tracking</h3>
        <div class="form-row">
          <label for="avgDelay">Average Delay Time: (hrs)</label>
          <input id="avgDelay" type="text" value="{{ avg_delay|default('0') }}" readonly />
        </div>
        <div class="form-row">
          <label for="avgIdle">Average Idle Time: (hrs)</label>
          <input id="avgIdle" type="text" value="{{ avg_idle|default('0') }}" readonly />
        </div>
        <div class="form-row">
          <label for="numOrders">Number of Orders:</label>
          <input id="numOrders" type="text" value="{{ delivery_count }}" readonly />
        </div>
        <div class="form-row">
          <label for="billingAcc">Average Mileage (km):</label>
          <input id="billingAcc" type="text" value="{{ avg_odometer }}" readonly />
        </div>
        <p>Daily Order Completion:</p>
        <div class="progress">
          <div></div>
          <div></div>
          <div></div>
          <div></div>
        </div>
      </div>
    </section>
    <section class="card highlight">
      <h3><i class="bi bi-box-seam"></i> Order Management</h3>
      <div class="grid-three">
        <div class="form-row">
          <label for="onTime">On-Time Deliveries (%):</label>
          <input id="onTime" type="text" value="{{ on_time_percent }}" readonly />
        </div>
        <div class="form-row">
          <label for="totalTrucks">Total Trucks:</label>
          <input id="totalTrucks" type="text" value="{{ truck_count }}" readonly />
        </div>
        <div class="form-row">
          <label for="totalDrivers">Total Drivers:</label>
          <input id="totalDrivers" type="text" value="{{ driver_count }}" readonly />
        </div>
        <div class="form-row">
          <label for="delivered">Delivered Orders:</label>
          <input id="delivered" type="text" value="{{ delivered }}" readonly />
        </div>
        <div class="form-row">
          <label for="pending">Pending Orders:</label>
          <input id="pending" type="text" value="{{ pending }}" readonly />
        </div>
        <div class="form-row">
          <label for="maintenance">Maintenance Records:</label>
          <input id="maintenance" type="text" value="{{ maintenance_count }}" readonly />
        </div>
      </div>
    </section>
    <section class="card">
      <h3><i class="bi bi-people"></i> Customer Relations</h3>
      <div class="grid-two">
        <textarea placeholder="Queries and Complaints" readonly>{{ customer_queries|default('No recent queries or complaints.') }}</textarea>
        <div class="satisfaction">
          <p>Overall Satisfaction Score</p>
          <input type="text" value="{{ satisfaction_score|default('N/A') }}" readonly />
        </div>
      </div>
    </section>
    <section class="card">
      <h4>
        <a href="{{ url_for('index') }}">
          <i class="bi bi-box-arrow-right"></i>
          <span>Sign Out</span>
        </a>
      </h4>
    </section>
  </main>
</body>
</html>